sudo: required
dist: trusty
os: linux
language: node_js
node_js:
  - 8.11.2
cache:
  directories:
    - functions/parrot/node_modules
before_install:
  - sudo apt update
  - sudo apt install -y apt-transport-https
  - curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
  - echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
  - sudo apt-get update && sudo apt-get install -y yarn build-essential
  - sudo npm install -g node-pre-gyp node-gyp
install:
  - cd functions/parrot && yarn install
script:
  - cd functions/parrot && yarn test